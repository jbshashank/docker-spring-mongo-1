package com.candidjava.spring.controller;
import javax.xml.ws.ResponseWrapper;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestHeader;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.bind.annotation.RestController;



/**
 * Controller class for the webhooks endpoint
 * 
 * @author dderose
 *
 */
@RestController
public class WebhooksController {
	

	private static final String SIGNATURE = "shashi@github1";
	private static final String SUCCESS = "Success";
	private static final String ERROR = "Error";
	

  
    /**
     * Method to receive webhooks event notification 
     * 1. Validates payload
     * 2. Adds it to a queue
     * 3. Sends success response back
     * 
     * Note: Queue processing occurs in an async thread
     * 
     * @param signature
     * @param payload
     * @return
     */
    @RequestMapping(value = "/webhooks", method = RequestMethod.POST)
    @ResponseBody
    public ResponseEntity<String> webhooks(@RequestHeader(SIGNATURE) String signature, @RequestBody String payload) {

		
	

		
		//LOG.info("response sent ");
		return new ResponseEntity<String>(HttpStatus.OK);
    }

}
